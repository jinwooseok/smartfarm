<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>병합</title>

    <!-- css -->
    <link rel="stylesheet" href="/templates/Css/merge.css">
    <link rel="stylesheet" href="/templates/Css/nav.css">
    <link rel="stylesheet" href="/templates/Css/jsuties.css" type="text/css" />

    <!-- spreadsheetjs -->
    <script src="https://bossanova.uk/jspreadsheet/v4/jexcel.js"></script>
    <link rel="stylesheet" href="https://bossanova.uk/jspreadsheet/v4/jexcel.css" type="text/css" />
</head>

<body>
	<ul class="nav">
		<li><a href="/" class="title">전남대학교</br>융합 빅데이터 연구실</a></li>
		<li><a href="/file-list">데이터 수정</a></li>
		<li><a href="/merge/">파일 병합</a></li>
		<li><a href="/fileList_2">데이터 분석</a></li>
		{% if user_name != anonymous %}
		<li><a href="/users/logout/" class='logout' id="logout">로그아웃</a></li>
		{% else %}
		<li><a href="/users/login/" class='login' id="login">로그인</a></li>
		{% endif %}
	</ul>

  {% csrf_token %}
  <div class="selectContainer">
    <div class="card">
      <p class="cardTitle">생육</p>
      <div class="cardSelect"></div>
      <select name="growthSelectBox" id="growthSelectBox" class="growthSelectBox">
        <option value="null"></option>
        {% for file in files %}
        <option value={{file.file_title}}>{{file.file_title}}</option>
        {% endfor %}
      </select>
      <select name="growthVariable" id="growthVariable" class="growthVariable">
        <option value="null"></option>
      </select>
    </div>

    <p class="text">+</p>

    <div class="card">
      <p class="cardTitle">환경</p>
      <div class="cardSelect"></div>
      <select name="environmentSelectBox" id="environmentSelectBox" class="environmentSelectBox">
        <option value="null"></option>
        {% for file in files %}
        <option value={{file.file_title}}>{{file.file_title}}</option>
        {% endfor %}
      </select>
      <select name="environmentVariable" id="environmentVariable" class="environmentVariable">
        <option value="null"></option>
      </select>
    </div>

    <p class="text">+</p>

    <div class="card">
      <p class="cardTitle">생산량</p>
      <div class="cardSelect"></div>
      <select name="outputSelectBox" id="outputSelectBox" class="outputSelectBox">
        <option value="null"></option>
        {% for file in files %}
        <option value=`{{file.file_title}}`>{{file.file_title}}</option>
        {% endfor %}
      </select>
      <select name="outputVariable" id="outputVariable" class="outputVariable">
        <option value="null"></option>
      </select>
    </div>

    <p class="text">=</p>

    <div class="card">
      <p class="cardTitle">결과 확인</p>
      <div class="buttonContainer">
        <button class="merge" id="merge">병합하기</button>
        <button class="save" id="save">저장하기</button>
      </div>
      <input type="text" name="mergeFileName" class="mergeFileName" id="mergeFileName" placeholder="파일 이름을 정해주세요.">
    </div>
  </div>

  <div class="resultContainer">
    <div id="spreadsheet" class="spreadsheet"></div>
  </div>

  <div id="JsonValue" style="display: none;"></div>
</body>

<script type="module" src="/templates/JS/merge/merge.mjs"></script>
<script src="/templates/JS/CDN/jquery-1.12.4.min.js"></script>
<script src="/templates/JS/CDN/xlsx.full.min.js"></script>
<script src="/templates/JS/Utils/jsuties.js"></script>

</html>